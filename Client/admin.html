<!DOCTYPE html>
<html lang="en">

<header>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Controls</title>
  <link rel="stylesheet" href="styles.css" />
</header>

<body>
  <head class="top-bar">
    <h1>Admin Controls</h1>
  </header>

  <main class="controls">
    <button onclick="window.location.href='index.html'"> Back to Timer</button>
    <button onclick="resetResults()">Reset Race Results</button>
  </main>

  <script>
    async function resetResults() {
      const confirmReset = confirm("Are you sure you want to clear all race results?");
      if (!confirmReset) return;

      try {
        const res = await fetch('/reset-results', { method: 'POST' });
        if (res.ok) {
          alert("Race results cleared.");
        } else {
          alert("Failed to reset results.");
        }
      } catch (err) {
        console.error("Error resetting results:", err);
        alert("Error occurred while trying to reset results.");
      }
    }
  </script>
</body>

</html>